----------------------
Rectangle proteomovies
----------------------

A proteomovie is generated from an input data file in three steps:

1. Convert the input data into one of the input file formats described below
2. From the input data file, generate a "proteomaps" directory, containing all files that are needed to generate proteomaps
3. Based on these files, generate the proteomaps movie

The input file format and the two steps are explained below.


--------------------------------------
Step 1: rectangle proteomovie input file format
--------------------------------------

Prepare a table file with input proteomics data. 
- The table must contain protein abundances on linear scale (not logarithms)
- Column (sample) names must not contain any special characters (except for "_")
  (any other special characters, including ".", may cause problems whe the sample names are translated into temporary file names)

   You can choose between two input formats (simple tab-separated tables, or SBtab tables)

   Format 1: Simple table (".tsv": tab-separated or ".csv" comma-separated)
   
   [IGNORED] [sample_1] [sample_2]  ...
   [gene_1]  value      value       ...
   [gene_2]  value      value       ...
   ...       ...        ...         ...
   
   Format 2: SBtab table with sample names (without "!" character) as column titles
   
   !!!SBtab .... [this line will be ignored]
   !!SBtab  .... [this line will be ignored]
   ![IGNORED] [sample_1] [sample_2]  ...
   [gene_1]   value      value       ...
   [gene_2]   value      value       ...
   ...        ...        ...         ...


---------------------------------
Step 2: Generate proteomaps files
---------------------------------

For step 2, run the commandline script 'proteomovie-prepare-files.py'

python3 proteomovie-prepare-files.py [INPUT FILE] [OUTPUT_FILE] [ORGANISM] [DATA_SET_NAME] [PROTEOMAPS_DIRECTORY]


Usage example (where [PATH] points to the proteomaps-workflow directory in your system) 

python3 proteomovie-prepare-files.py [PATH]/proteomovies/examples/valgepea_ecoli/valgepea_ecoli.tsv [PATH]/proteomovies/examples/valgepea_ecoli/valgepea_ecoli.gif eco Valgepea_data [PATH]/proteomovies/examples/valgepea_ecoli/valgepea_ecoli_proteomaps


----------------------------
Step 3: Generate proteomovie
----------------------------

For step 2, use the matlab script 'proteomovie_workflow'


Usage example (where [PATH] points to the proteomaps-workflow directory in your system) 

proteomovie('[PATH]/proteomovies/examples/valgepea_ecoli/valgepea_ecoli_proteomaps','[PATH]/proteomovies/examples/valgepea_ecoli/valgepea_ecoli.gif',10);

For further options (e.g. framerate, movie duration etc), use the "options" function argument (see "help 'proteomovie_workflow')


-----------
Please note
-----------

o The proteomap instruction file "filenames.csv" contains filenames with absolute paths:
  if the proteomaps directory is moved or copied to another location, step 3 (which uses 
  the filenames.csv file) will not work anymore

o In the python script and the matlab script, filenames must be given with absolute path names

o The matlab function "join_protein_data_files" can be used to join several formatted protein data files